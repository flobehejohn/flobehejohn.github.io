/* /assets/css/dotnet.css
   — Styles unifiés pour la page démo .NET (modale, KPI, tables dans l’iframe) */

/* ===== Variables & helpers ===== */
main[data-pjax-root][data-page="dotnet_demo"] {
  --modal-max-w: 1100px;
  --modal-min-w: 320px;
  --modal-pad-x: 1rem;
  --modal-pad-y: .75rem;
  --modal-radius: 16px;
  --shadow-elev: 0 20px 60px rgba(0,0,0,.25);
}

/* ===== Carte d’appli (container de la ligne de preuves + boutons) ===== */
main[data-pjax-root][data-page="dotnet_demo"] .carte-app { display: grid; grid-template-columns: 1fr; gap: 1rem; border-radius: 16px; overflow: hidden; background: #fff; }
main[data-pjax-root][data-page="dotnet_demo"] .carte-app-body { padding: 1rem 1.25rem 1.25rem; }
main[data-pjax-root][data-page="dotnet_demo"] .carte-app h3 { margin: 0 0 .25rem 0; }
main[data-pjax-root][data-page="dotnet_demo"] .carte-app p { margin: 0; color: #555; }

/* ===== Modale ===== */
main[data-pjax-root][data-page="dotnet_demo"] .modal-overlay { position: fixed; inset: 0; display: none; place-items: center; background: rgba(0,0,0,.55); z-index: 2000; }
main[data-pjax-root][data-page="dotnet_demo"] .modal-overlay.show { display: grid; }
main[data-pjax-root][data-page="dotnet_demo"] .modal-shell {
  width: min(var(--modal-max-w), 92vw);
  min-width: var(--modal-min-w);
  max-height: 90vh;
  background: #fff; border-radius: var(--modal-radius);
  box-shadow: var(--shadow-elev); overflow: hidden;
  display: grid; grid-template-rows: auto 1fr auto;
}
@media (max-width: 767.98px) {
  main[data-pjax-root][data-page="dotnet_demo"] .modal-shell { width: 100vw; height: 100vh; max-height: 100vh; border-radius: 0; }
}
main[data-pjax-root][data-page="dotnet_demo"] .modal-header, main[data-pjax-root][data-page="dotnet_demo"] .modal-footer {
  padding: var(--modal-pad-y) var(--modal-pad-x);
  border-bottom: 1px solid rgba(0,0,0,.08);
}
main[data-pjax-root][data-page="dotnet_demo"] .modal-footer { border-top: 1px solid rgba(0,0,0,.08); border-bottom: none; display: flex; gap: .5rem; justify-content: center; flex-wrap: wrap; }
main[data-pjax-root][data-page="dotnet_demo"] .modal-title { margin: 0; font-size: 1.05rem; font-weight: 600; }
main[data-pjax-root][data-page="dotnet_demo"] .close-btn { margin-left: auto; border: 0; background: transparent; cursor: pointer; font-size: 1.5rem; line-height: 1; padding: .25rem .5rem; }
.close-btn:focus { outline: 2px solid #2684ff; outline-offset: 2px; border-radius: .5rem; }
.modal-body { padding: 0; overflow: auto; -webkit-overflow-scrolling: touch; background: #fafafa; }
.app-host { display: block; width: 100%; height: auto; min-height: 60vh; padding: 1rem; }
@media (max-width: 767.98px) { .app-host { min-height: calc(100vh - 120px); padding: .75rem; } }

/* ===== Ligne de preuves (KPI) ===== */
.proof-strip {
  display: grid;
  grid-template-columns: repeat(4, max-content);
  gap: .75rem 1rem;
  align-items: center;
  justify-content: center;
  margin: 1rem auto 0;
  padding: .5rem .75rem;
  background: #f6f7fb;
  border: 1px solid rgba(0,0,0,.06);
  border-radius: 999px;
}
.kpi { display: grid; grid-auto-flow: row; justify-items: center; }
.kpi-label { font-size: .75rem; line-height: 1; color: #666; letter-spacing: .02em; }
.kpi-number { font-weight: 700; font-variant-numeric: tabular-nums; font-size: 1.05rem; line-height: 1.2; }
.kpi-pulse { animation: kpiPulse 450ms ease-out; }

@keyframes kpiPulse {
  0%   { transform: scale(1);    filter: brightness(1); }
  50%  { transform: scale(1.04); filter: brightness(1.15); }
  100% { transform: scale(1);    filter: brightness(1); }
}

@media (max-width: 575.98px) {
  .proof-strip { grid-template-columns: repeat(2, max-content); row-gap: .5rem; border-radius: 16px; }
  .kpi-hide-sm { display: none; }
}

/* ===== Tables (dans l’iframe Vue) — styles appliqués via srcdoc ===== */
/* NB: ces classes sont aussi présentes côté page pour fallback si nécessaire */
.table-wrap { width: 100%; overflow-x: auto; -webkit-overflow-scrolling: touch; border-radius: 12px; background: #fff; box-shadow: 0 6px 24px rgba(0,0,0,.06); margin: 0 auto 1rem; }
table.sticky-first-col td:first-child, table.sticky-first-col th:first-child { position: sticky; left: 0; background: #fff; z-index: 1; }

/* ===== Helpers centrage de sections ===== */
.hero-section, .hero-section *:not(.btn) { text-align: center !important; }
.hero-section .btn, .hero-section .btn-lg, .hero-section .btn-action {
  display: inline-flex !important; margin-left: auto !important; margin-right: auto !important; justify-content: center; align-items: center;
}
section.hero-section .container, section.section.swatch-custom.section-text-shadow .container { text-align: center !important; }
#footer .container { display: flex; justify-content: center; align-items: center; text-align: center; }
#footer p { margin: 0 auto; text-align: center !important; }

@media (prefers-reduced-motion: reduce) { * { scroll-behavior: auto !important; } }
